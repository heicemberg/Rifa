"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{1950:(e,t,a)=>{a.d(t,{D:()=>i,EV:()=>n,UV:()=>c,Xw:()=>k,YH:()=>d,Z6:()=>g,iw:()=>o,l2:()=>l,rR:()=>u,tS:()=>m,uq:()=>s,vw:()=>p,xR:()=>r});let r=1e4,i=10,n=18e5,o=[{tickets:1,price:10,discount:0,popular:!1},{tickets:5,price:45,discount:10,popular:!1},{tickets:10,price:80,discount:20,popular:!0},{tickets:25,price:187,discount:25,popular:!1},{tickets:50,price:350,discount:30,popular:!1},{tickets:100,price:650,discount:35,popular:!1}],s=[{id:"binance",name:"Binance Pay",icon:"/logos/binance.svg",account:"rifadesilverado2024@gmail.com",accountDetails:"Email Binance Pay: rifadesilverado2024@gmail.com",enabled:!0},{id:"bancoppel",name:"BanCoppel",icon:"/logos/bancoppel.png",account:"4169 1598 7643 2108",accountDetails:"Tarjeta: 4169 1598 7643 2108\nTitular: RIFA SILVERADO 2024\nCLABE: 137180000123456789",enabled:!0},{id:"bancoazteca",name:"Banco Azteca",icon:"/logos/bancoazteca.png",account:"5204 8765 4321 0987",accountDetails:"Tarjeta: 5204 8765 4321 0987\nTitular: RIFA SILVERADO 2024\nCLABE: 127180000987654321",enabled:!0},{id:"oxxo",name:"OXXO",icon:"/logos/oxxo.png",account:"RIF-SIL-2024-001",accountDetails:"Referencia OXXO: RIF-SIL-2024-001\nMonto exacto del pago\nConserva tu comprobante",enabled:!0}],c=["Jos\xe9","Luis","Juan","Miguel","Carlos","Fernando","Jorge","Alejandro","Mar\xeda","Guadalupe","Rosa","Ana","Carmen","Patricia","Sandra","Leticia","Francisco","Roberto","Ricardo","Eduardo","Ra\xfal","Jes\xfas","Daniel","Pedro","Juana","Teresa","Gloria","Esperanza","Julia","Irma","Silvia","Martha","Antonio","Arturo","Armando","Alberto","Andr\xe9s","\xc1ngel","Adri\xe1n","Agust\xedn","Beatriz","Blanca","Bertha","Brenda","B\xe1rbara","Claudia","Cristina","Carolina","Diego","David","Emilio","Edgar","Enrique","Ernesto","Esteban","Erika","Gabriela","Graciela","Gustavo","Guillermo","Hugo","H\xe9ctor","Ignacio","Isabel","Jaime","Javier","Jonathan","Juli\xe1n","Karina","Laura","Luc\xeda","Lorena","Manuel","Marco","Mart\xedn","Mauricio","M\xf3nica","Nancy","Norma","Octavio","Oscar","Pablo","Paulo","Rafael","Ram\xf3n","Raquel","Rub\xe9n","Salvador","Sergio","Susana","Sof\xeda","Ver\xf3nica","Vicente","V\xedctor","Yolanda","Ximena"],l=["Gonz\xe1lez","Garc\xeda","Rodr\xedguez","Hern\xe1ndez","L\xf3pez","Mart\xednez","P\xe9rez","S\xe1nchez","Ram\xedrez","Torres","Flores","Rivera","G\xf3mez","D\xedaz","Cruz","Morales","Reyes","Guti\xe9rrez","Ortiz","Ch\xe1vez","Ruiz","V\xe1squez","Castillo","Jim\xe9nez","Vargas","Ramos","Mendoza","Aguilar","Contreras","Medina","Luna","Moreno","Alvarez","Acosta","Alvarado","Ayala","Bautista","Cabrera","Campos","C\xe1rdenas","Cervantes","Cort\xe9s","Delgado","Dom\xednguez","Espinoza","Estrada","Figueroa","Fuentes","Galv\xe1n","Guerrero","Herrera","Ibarra","Lara","Ledesma","Maldonado","Miranda","Montoya","Mu\xf1oz","Navarro","N\xfa\xf1ez","Ochoa","Padilla","Palacios","Paredes","Pe\xf1a","Quintero","Robles","Romero","Salazar","Silva","Sol\xeds","T\xe9llez","Valdez","Valencia","Vega","Velasco","Villa","Villanueva","Zamora","Z\xfa\xf1iga"],u=c.map((e,t)=>{let a=l[t%l.length];return`${e} ${a.charAt(0)}.`}),d=["Ciudad de M\xe9xico","Guadalajara, Jalisco","Monterrey, Nuevo Le\xf3n","Puebla, Puebla","Tijuana, Baja California","Le\xf3n, Guanajuato","Ju\xe1rez, Chihuahua","Torre\xf3n, Coahuila","Quer\xe9taro, Quer\xe9taro","San Luis Potos\xed, San Luis Potos\xed","M\xe9rida, Yucat\xe1n","Mexicali, Baja California","Aguascalientes, Aguascalientes","Cuernavaca, Morelos","Saltillo, Coahuila","Xalapa, Veracruz","Tampico, Tamaulipas","Morelia, Michoac\xe1n","Reynosa, Tamaulipas","Tlalnepantla, Estado de M\xe9xico","Chimalhuac\xe1n, Estado de M\xe9xico","Naucalpan, Estado de M\xe9xico","Canc\xfan, Quintana Roo","Veracruz, Veracruz","Pachuca, Hidalgo","Oaxaca, Oaxaca","Acapulco, Guerrero","Chihuahua, Chihuahua","Hermosillo, Sonora","Culiac\xe1n, Sinaloa","Mazatl\xe1n, Sinaloa","Durango, Durango","Campeche, Campeche","La Paz, Baja California Sur","Tuxtla Guti\xe9rrez, Chiapas","Villahermosa, Tabasco","Tepic, Nayarit","Colima, Colima","Zacatecas, Zacatecas","Tlaxcala, Tlaxcala"],g={prizeTitle:"Chevrolet Silverado Z71 2024 - Valor $45,000 USD",prizeImage:"/premios/premio-rifa.png",prizeValue:45e3,sorteoDate:new Date("2024-12-31T20:00:00-06:00"),colors:{primary:"#1e40af",secondary:"#dc2626",accent:"#f59e0b",background:"#ffffff",text:"#1f2937",success:"#10b981",error:"#ef4444",warning:"#f59e0b"},paymentMethods:s},k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,m=/^\+52\d{10}$/,p={style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}},5726:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v,useAdminConfig:()=>p,useCheckout:()=>k,useLiveActivities:()=>m,useRaffleStore:()=>u,useTicketActions:()=>g,useTickets:()=>d});var r=a(8693),i=a(6786),n=a(2115),o=a(1950),s=a(9434);let c=(e,t)=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let r of a)if(!(r in t)||!Object.is(e[r],t[r]))return!1;return!0},l={tickets:[],selectedTickets:[],soldTickets:[],reservedTickets:[],customerData:null,currentStep:"selecting",liveActivities:[],viewingCount:(0,s.sc)(89,347),adminConfig:o.Z6,loading:!1,errors:[]},u=(0,r.vt)()((0,i.lt)((0,i.Zr)((e,t)=>({...l,availableTickets:[],setSoldTicketsFromDB:t=>{e({soldTickets:t})},setReservedTicketsFromDB:t=>{e({reservedTickets:t})},_updateAvailableTickets:()=>{console.warn("⚠️ _updateAvailableTickets est\xe1 DEPRECATED - usar Master Counter")},get totalSelected(){return t().selectedTickets.length},get totalPrice(){let{selectedTickets:e}=t();return(0,s.yi)(e.length)},get soldPercentage(){let{soldTickets:e}=t();return Math.round(e.length/o.xR*100)},get availableCount(){return t().availableTickets.length},get soldCount(){return t().soldTickets.length},get reservedCount(){return t().reservedTickets.length},get selectedCount(){return t().selectedTickets.length},selectTicket:t=>{e(e=>{let{selectedTickets:a,soldTickets:r,reservedTickets:i}=e;return r.includes(t)||i.includes(t)?{...e,errors:[...e.errors,`El ticket ${(0,s.zW)(t)} ya no est\xe1 disponible`]}:a.includes(t)?e:{...e,selectedTickets:[...a,t].sort((e,t)=>e-t),errors:e.errors.filter(e=>!e.includes("ya no est\xe1 disponible"))}})},deselectTicket:t=>{e(e=>({...e,selectedTickets:e.selectedTickets.filter(e=>e!==t)}))},quickSelect:a=>{e(e=>{let{availableTickets:r}=t();if(r.length<a)return{...e,errors:[...e.errors,`Solo hay ${r.length} tickets disponibles`]};let i=[...r].sort(()=>Math.random()-.5).slice(0,a).sort((e,t)=>e-t);return{...e,selectedTickets:i,errors:e.errors.filter(e=>!e.includes("tickets disponibles"))}})},clearSelection:()=>{e(e=>({...e,selectedTickets:[]}))},setCustomerData:t=>{e(e=>({...e,customerData:e.customerData?{...e.customerData,...t}:{id:(0,s.$C)(),name:"",email:"",whatsapp:"",selectedTickets:[],totalAmount:0,paymentMethod:"bancoppel",status:"pending",createdAt:new Date,...t}}))},setCurrentStep:t=>{e(e=>({...e,currentStep:t}))},reserveTickets:(a,r)=>{e(e=>{let i=new Date,n=[...e.reservedTickets,...a],c=a.map(e=>({id:(0,s.$C)(),number:(0,s.zW)(e),status:"reserved",buyerId:r,reservedAt:i})),l=[...e.tickets];return c.forEach(e=>{let t=l.findIndex(t=>t.number===e.number);t>=0?l[t]=e:l.push(e)}),setTimeout(()=>{t().releaseReservedTickets(a)},o.EV),{...e,reservedTickets:n,tickets:l,selectedTickets:[]}})},markTicketsAsSold:(t,a)=>{e(e=>{let r=new Date,i=[...e.soldTickets,...t],n=e.reservedTickets.filter(e=>!t.includes(e)),o=t.map(e=>({id:(0,s.$C)(),number:(0,s.zW)(e),status:"sold",buyerId:a,purchaseDate:r})),c=[...e.tickets];return o.forEach(e=>{let t=c.findIndex(t=>t.number===e.number);t>=0?c[t]=e:c.push(e)}),{...e,soldTickets:i,reservedTickets:n,tickets:c}})},releaseReservedTickets:t=>{e(e=>{let a=e.reservedTickets.filter(e=>!t.includes(e)),r=e.tickets.map(e=>{let a=parseInt(e.number);return t.includes(a)&&"reserved"===e.status?{...e,status:"available",buyerId:void 0,reservedAt:void 0}:e});return{...e,reservedTickets:a,tickets:r}})},addLiveActivity:t=>{e(e=>{let a=[{...t,id:(0,s.$C)(),createdAt:new Date},...e.liveActivities].slice(0,50);return{...e,liveActivities:a}})},generateFakeActivity:()=>{let e=(0,s.sc)(1,10),a=(0,s.SD)();t().addLiveActivity({buyerName:a,ticketCount:e})},setViewingCount:t=>{e(e=>({...e,viewingCount:t}))},updateAdminConfig:t=>{e(e=>({...e,adminConfig:{...e.adminConfig,...t}}))},setLoading:t=>{e(e=>({...e,loading:t}))},addError:t=>{e(e=>({...e,errors:[...e.errors,t]}))},clearErrors:()=>{e(e=>({...e,errors:[]}))},initializeTickets:()=>{e(e=>{if(e.tickets.length>0)return e;let t=Array.from({length:o.xR},(e,t)=>({id:(0,s.$C)(),number:(0,s.zW)(t+1),status:"available"}));return{...e,tickets:t}})},resetStore:()=>{e(()=>({...l,viewingCount:(0,s.sc)(45,89),adminConfig:o.Z6}))}}),{name:"raffle-store",partialize:e=>({soldTickets:e.soldTickets,reservedTickets:e.reservedTickets,adminConfig:e.adminConfig,liveActivities:e.liveActivities.slice(0,20)}),version:1,skipHydration:!0,onRehydrateStorage:()=>e=>{e&&console.log("Store rehidratado - Master Counter manejar\xe1 los disponibles")}}),{name:"raffle-store"})),d=()=>u((0,n.useCallback)(e=>({tickets:e.tickets,selectedTickets:e.selectedTickets,soldTickets:e.soldTickets,reservedTickets:e.reservedTickets,availableTickets:e.availableTickets,totalSelected:e.totalSelected,totalPrice:e.totalPrice,soldPercentage:e.soldPercentage}),[]),c),g=()=>u((0,n.useCallback)(e=>({selectTicket:e.selectTicket,deselectTicket:e.deselectTicket,quickSelect:e.quickSelect,clearSelection:e.clearSelection,reserveTickets:e.reserveTickets,markTicketsAsSold:e.markTicketsAsSold}),[]),c),k=()=>u((0,n.useCallback)(e=>({customerData:e.customerData,currentStep:e.currentStep,setCustomerData:e.setCustomerData,setCurrentStep:e.setCurrentStep,loading:e.loading,errors:e.errors}),[]),c),m=()=>u((0,n.useCallback)(e=>({liveActivities:e.liveActivities,viewingCount:e.viewingCount,addLiveActivity:e.addLiveActivity,generateFakeActivity:e.generateFakeActivity,setViewingCount:e.setViewingCount}),[]),c),p=()=>u((0,n.useCallback)(e=>({adminConfig:e.adminConfig,updateAdminConfig:e.updateAdminConfig}),[]),c);window.__ZUSTAND_RAFFLE_STORE__=u,console.log("\uD83D\uDD27 ZUSTAND STORE exposed globally for Master Counter sync");let v=u},9434:(e,t,a)=>{a.d(t,{$C:()=>d,$g:()=>c,DT:()=>k,SD:()=>u,cn:()=>o,sc:()=>g,xq:()=>m,yi:()=>l,zW:()=>s});var r=a(2596),i=a(9688),n=a(1950);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,r.$)(t))}function s(e){return e.toString().padStart(4,"0")}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";try{return new Intl.NumberFormat("en-US",{...n.vw,currency:t}).format(e)}catch{return`$${e.toLocaleString("en-US")}`}}function l(e){if(e<=0)return 0;let t=n.iw.find(t=>t.tickets===e);if(t)return t.price;let a=[...n.iw].sort((e,t)=>t.tickets-e.tickets),r=0,i=e;for(let e of a)if(i>=e.tickets){let t=Math.floor(i/e.tickets);r+=t*e.price,i-=t*e.tickets}return i>0&&(r+=i*n.D),r}function u(){if(0===n.rR.length)return"Usuario A.";let e=Math.floor(Math.random()*n.rR.length);return n.rR[e]}function d(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function g(e,t){return Math.floor(Math.random()*(t-e+1))+e}function k(e){return!!e&&"string"==typeof e&&n.Xw.test(e.trim())}function m(e){if(!e||"string"!=typeof e)return!1;let t=e.replace(/[\s\-\(\)\.]/g,"");return n.tS.test(t)}}}]);